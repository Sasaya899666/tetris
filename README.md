# 進階Web版俄羅斯方塊遊戲

一個功能完整的Web版俄羅斯方塊遊戲，具備排行榜系統和玩家記錄功能。

## 功能特色

### 🎮 遊戲功能
- **完整的俄羅斯方塊遊戲邏輯**：7種標準方塊、旋轉、移動、消行
- **進階分數系統**：基於等級、連鎖數的動態分數計算
- **等級系統**：隨分數提升難度，速度加快
- **遊戲控制**：鍵盤控制、按鈕控制、暫停功能

### 🏆 排行榜系統
- **全球排行榜**：顯示前10名最高分玩家
- **即時更新**：遊戲結束後自動更新排行榜
- **分數驗證**：防止作弊機制
- **玩家資訊**：記錄玩家姓名、分數、等級、消除行數

### 📊 統計功能
- **玩家統計**：查詢特定玩家的遊戲統計
- **詳細數據**：總遊戲次數、最高分、平均分、總消除行數、最高等級

### 🎨 用戶介面
- **現代化設計**：響應式設計，支援桌面和移動設備
- **動畫效果**：流暢的動畫和過渡效果
- **模態框**：排行榜和統計查詢的彈出視窗
- **遊戲覆蓋層**：遊戲結束時的姓名輸入介面

## 技術架構

### 後端 (Python + Flask)
- **Web框架**：Flask
- **資料庫**：SQLite
- **API設計**：RESTful API
- **CORS支援**：跨域請求支援

### 前端 (HTML + CSS + JavaScript)
- **遊戲引擎**：Canvas 2D API
- **UI框架**：原生JavaScript + CSS3
- **響應式設計**：CSS Grid + Flexbox
- **動畫效果**：CSS3 Animations

### 資料庫設計
- **players表**：玩家資訊
- **scores表**：分數記錄
- **leaderboard表**：排行榜數據

## 安裝和運行

### 1. 環境要求
- Python 3.7+
- 現代瀏覽器（Chrome, Firefox, Safari, Edge）

### 2. 安裝依賴
```bash
pip install -r requirements.txt
```

### 3. 運行應用
```bash
python app.py
```

### 4. 訪問遊戲
打開瀏覽器訪問：`http://localhost:5000`

## 遊戲操作

### 鍵盤控制
- **← →**：左右移動方塊
- **↑**：旋轉方塊
- **↓**：快速下落
- **空白鍵**：立即落下
- **P**：暫停/繼續遊戲

### 滑鼠控制
- **開始遊戲**：點擊「開始遊戲」按鈕
- **暫停**：點擊「暫停」按鈕
- **重新開始**：點擊「重新開始」按鈕
- **排行榜**：點擊「📊 排行榜」按鈕
- **統計查詢**：點擊「📈 統計」按鈕

## API端點

### 排行榜API
- `GET /api/leaderboard` - 獲取前10名排行榜
- `POST /api/leaderboard/submit` - 提交新分數

### 玩家統計API
- `GET /api/players/stats` - 獲取玩家統計資訊

## 專案結構

```
tetris-game/
├── app.py                 # Flask主應用
├── requirements.txt       # Python依賴
├── tetris.db             # SQLite資料庫
├── templates/
│   └── index.html        # 主頁面模板
├── static/
│   ├── css/
│   │   └── style.css     # 樣式文件
│   └── js/
│       ├── tetris.js     # 遊戲核心邏輯
│       └── ui.js         # UI管理模組
└── README.md             # 專案說明
```

## 遊戲規則

### 分數計算
- **基礎分數**：每消除一行獲得100分
- **等級倍數**：分數乘以當前等級
- **連鎖倍數**：連續消除多行時，倍數遞增

### 等級提升
- 每消除10行提升一個等級
- 等級提升後，方塊下落速度加快
- 最高等級無限制

### 排行榜規則
- 只記錄前10名最高分
- 相同分數按提交時間排序
- 需要輸入2-20字元的姓名

## 開發說明

### 添加新功能
1. 在 `app.py` 中添加新的API端點
2. 在 `static/js/` 中添加前端邏輯
3. 在 `static/css/style.css` 中添加樣式

### 資料庫修改
1. 修改 `app.py` 中的 `init_db()` 函數
2. 刪除現有的 `tetris.db` 文件
3. 重新運行應用程式

### 部署說明
- 支援部署到任何支援Python的伺服器
- 建議使用Gunicorn或uWSGI作為WSGI伺服器
- 可部署到Heroku、AWS、Google Cloud等平台

## 授權

本專案採用MIT授權條款。

## 貢獻

歡迎提交Issue和Pull Request來改進這個專案！

## 更新日誌

### v1.0.0 (2024-01-01)
- 初始版本發布
- 完整的俄羅斯方塊遊戲功能
- 排行榜系統
- 玩家統計功能
- 響應式設計